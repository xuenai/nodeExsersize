<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<div class="panel panel-primary">注册页</div>
		<form>
			  <div class="form-group">
			    <label for="exampleInputEmail1">用户名</label>
			    <input type="text" class="form-control" id="username" placeholder="用户名">
			  </div>
			  <div class="form-group">
			    <label for="pwd">密码</label>
			    <input type="password" class="form-control" id="pwd" placeholder="Password">
			  </div>
			   <div class="form-group">
			    <label for="pwd1">确认密码</label>
			    <input type="password" class="form-control" id="pwd1" placeholder="Password">
			  </div>

			  <button type="submit" class="btn btn-success btn-block">Submit</button>
			</form>
	</div>
</body>
<script src="/js/zepto.min.js"></script>
<script>
	$(function(){
        var username = $("#username"),pwd = $("#pwd") ,pwd1 = $("#pwd1");
         
        $(".btn").on('click',function(event) {
        	
        	//数据的验证

        	if(!username.val().trim() || !pwd.val().trim()){
        		alert("用户名不能为空！");
        		return 
        	}
            
            if (pwd.val().trim()!=pwd1.val().trim()) {
            	alert("密码不一致！");
            	return;
            };

            //发请求

            $.post('/api/regist',{username:username.val(),pwd:pwd.val()},function(data){
                //console.log(data)
                if (!data.code) {
                	location.href = "/login.html"
                };
            })
           
        }); 
	})
</script>
</html>